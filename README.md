# AI Process - Part 2: 코드 분석 프로세스

> **AI가 코드를 분석하고 이해하는 과정**을 프로세스 관점에서 학습하는 교육용 프로젝트

[![Part](https://img.shields.io/badge/Part-2%20of%204-blue)]()
[![Java](https://img.shields.io/badge/Java-17+-orange)]()
[![Gradle](https://img.shields.io/badge/Gradle-8.5-green)]()

---

## 학습 목표

**AI가 코드를 분석하고 품질을 평가하기까지의 내부 과정을 이해합니다**

```
입력: Java 코드
        │
        ▼
┌─────────────────────────────────────────────────────────┐
│ STEP 9: 파싱 (Parsing)                                   │
│ 텍스트 → 구조화된 데이터 (CompilationUnit)                │
└─────────────────────────────────────────────────────────┘
        │
        ▼
┌─────────────────────────────────────────────────────────┐
│ STEP 10: AST 분석 (Abstract Syntax Tree)                 │
│ 코드 구조 → 메트릭 (복잡도, 중첩 깊이, 라인 수)           │
└─────────────────────────────────────────────────────────┘
        │
        ▼
┌─────────────────────────────────────────────────────────┐
│ STEP 11: 의미 분석 (Semantic Analysis)                   │
│ 변수 사용 추적, 타입 분석, 메서드 호출 관계               │
└─────────────────────────────────────────────────────────┘
        │
        ▼
┌─────────────────────────────────────────────────────────┐
│ STEP 12: 패턴 매칭 (Pattern Matching)                    │
│ 코드 스멜 탐지 (System.out, 빈 catch, 매직 넘버)          │
└─────────────────────────────────────────────────────────┘
        │
        ▼
┌─────────────────────────────────────────────────────────┐
│ STEP 13: 이슈 탐지 (Issue Detection)                     │
│ 보안 취약점 탐지 (SQL Injection, 하드코딩 비밀)           │
└─────────────────────────────────────────────────────────┘
        │
        ▼
┌─────────────────────────────────────────────────────────┐
│ STEP 14: 점수화 (Scoring)                                │
│ 6차원 품질 점수 → A~F 등급                               │
└─────────────────────────────────────────────────────────┘
        │
        ▼
출력: 78/100점 (등급: B)
```

---

## 학습 단계 (STEP 9-14)

| STEP | 제목 | 핵심 질문 | 실행 명령 |
|------|------|----------|----------|
| 9 | 파싱 | 코드를 어떻게 읽는가? | `./gradlew :step9-parsing:run` |
| 10 | AST 분석 | 코드의 구조를 어떻게 파악하는가? | `./gradlew :step10-ast:run` |
| 11 | 의미 분석 | 변수/타입을 어떻게 추적하는가? | `./gradlew :step11-semantics:run` |
| 12 | 패턴 매칭 | 나쁜 코드를 어떻게 찾는가? | `./gradlew :step12-pattern:run` |
| 13 | 이슈 탐지 | 버그/보안 문제를 어떻게 발견하는가? | `./gradlew :step13-detection:run` |
| 14 | 점수화 | 코드 품질을 어떻게 측정하는가? | `./gradlew :step14-scoring:run` |

---

## 빠른 시작

### 빌드
```bash
./gradlew build
```

### 데모 실행
```bash
# STEP 14: 점수화 데모 (핵심)
./gradlew :step14-scoring:run

# 전체 코드 분석 파이프라인
./gradlew :code-pipeline:run
```

### 출력 예시 (Scoring)
```
[ 코드 품질 점수 ]

  카테고리별 점수:
    구조:       18/20
    가독성:     16/20
    유지보수성: 15/20
    신뢰성:     12/15
    보안:       10/15
    성능:        7/10

  총점: 78/100 (등급: B)
```

---

## 프로젝트 구조

```
code-ai-part2-analyzer/
├── step9-parsing/             # 파싱
├── step10-ast/                # AST 분석
├── step11-semantics/          # 의미 분석
├── step12-pattern/            # 패턴 매칭
├── step13-detection/          # 이슈 탐지
├── step14-scoring/            # 점수화
├── code-pipeline/             # 분석 파이프라인
└── docs/                      # 학습 문서
```

---

## 탐지 가능한 이슈

### 코드 스멜 (STEP 12)
| 이슈 | 설명 | 심각도 |
|------|------|--------|
| SYSTEM_OUT | System.out.println 사용 | WARNING |
| EMPTY_CATCH | 빈 catch 블록 | CRITICAL |
| MAGIC_NUMBER | 매직 넘버 사용 | WARNING |
| LONG_METHOD | 20줄 이상 메서드 | WARNING |
| MISSING_BRACES | if문 중괄호 누락 | INFO |

### 보안 이슈 (STEP 13)
| 이슈 | 설명 | 심각도 |
|------|------|--------|
| SQL_INJECTION | 문자열 연결 SQL | CRITICAL |
| HARDCODED_SECRET | 하드코딩된 비밀번호 | CRITICAL |
| WEAK_CRYPTO | MD5/SHA1 사용 | WARNING |

---

## 점수 체계 (STEP 14)

```
┌─────────────────────────────────────────────────────┐
│               코드 품질 점수 (100점 만점)             │
├─────────────┬───────────────────────────────────────┤
│ 카테고리     │ 배점                                  │
├─────────────┼───────────────────────────────────────┤
│ 구조        │ 20점                                  │
│ 가독성      │ 20점                                  │
│ 유지보수성  │ 20점                                  │
│ 신뢰성      │ 15점                                  │
│ 보안        │ 15점                                  │
│ 성능        │ 10점                                  │
└─────────────┴───────────────────────────────────────┘

등급: A(90+), B(80+), C(70+), D(60+), F(<60)
```

---

## 핵심 개념

### AST (Abstract Syntax Tree)
```
코드 → 트리 구조
if (x > 0) { return x; }
         ↓
    IfStatement
    ├── condition: BinaryExpr (x > 0)
    └── thenStmt: ReturnStmt (x)
```

### 패턴 매칭
```
특정 패턴의 코드를 찾아서 경고
"System.out" → WARNING
"catch { }" → CRITICAL
```

---

## 시리즈 전체 구성

```
┌─────────────────────────────────────────────────────────┐
│ Part 1: AI 기초 프로세스                                 │
│ 토큰화 → 컨텍스트 → 확률 → 샘플링 → Embedding → Transformer │
└─────────────────────────────────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────┐
│ Part 2: 코드 분석 프로세스 (현재) ◀──────────────────────  │
│ 파싱 → AST → 시맨틱 → 패턴매칭 → 이슈탐지 → 스코어링      │
└─────────────────────────────────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────┐
│ Part 3: AI 서비스 프로세스                               │
│ API → 프롬프트 → LLM → 응답파싱 → 액션 → 피드백           │
└─────────────────────────────────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────┐
│ Part 4: 고급 주제                                        │
│ RAG → Agent → Fine-tuning → Multimodal → 통합           │
└─────────────────────────────────────────────────────────┘
```

---

## 기술 스택

| 기술 | 버전 | 용도 |
|------|------|------|
| JavaParser | 3.25.8 | AST 분석 |
| Symbol Solver | 3.25.8 | 타입 해석 |

---

## 다음 단계

- 👈 [Part 1: AI 기초 프로세스](https://github.com/devload/code-ai-part1-basics)
- 👉 [Part 3: AI 서비스 프로세스](https://github.com/devload/code-ai-part3-service)
- 👉 [Part 4: 고급 주제](https://github.com/devload/code-ai-part4-advanced)

---

## 라이선스

MIT License

---

**Version**: 2.0.0 | **STEP**: 9-14 | **Focus**: Code Analysis Process
