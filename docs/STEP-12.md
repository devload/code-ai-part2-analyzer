# STEP 12: ì½”ë“œì— ì ìˆ˜ë¥¼ ë§¤ê²¨ë³´ì - ì ìˆ˜í™”

> ë©”íŠ¸ë¦­ë„ ë½‘ê³ , ìŠ¤ë©œë„ ì°¾ê³ , ì´ìŠˆë„ ì°¾ì•˜ì–´ìš”.
> ê·¼ë° "ì´ ì½”ë“œ ê´œì°®ì•„ìš”?"ë¼ê³  ë¬¼ìœ¼ë©´ ë­ë¼ê³  ë‹µí•´ì•¼ í• ê¹Œìš”?
> ëª¨ë“  ê±¸ ì¢…í•©í•´ì„œ **"85ì , Bë“±ê¸‰"** ì´ë ‡ê²Œ ë§í•´ì£¼ë©´ ì¢‹ê² ì£ ?

---

## ì™œ ì ìˆ˜ê°€ í•„ìš”í• ê¹Œ?

ê°œë°œìê°€ "ì½”ë“œ ë¦¬ë·° ê²°ê³¼ ì•Œë ¤ì¤˜"ë¼ê³  ë¬¼ì—ˆì„ ë•Œ:

**ì ìˆ˜ ì—†ì´:**
```
ë©”ì„œë“œ 10ê°œ, ë³µì¡ë„ í‰ê·  8
ê¸´ ë©”ì„œë“œ 2ê°œ, ê¹Šì€ ì¤‘ì²© 1ê°œ
SQL Injection 1ê°œ, í•˜ë“œì½”ë”© 2ê°œ
```
"ê·¸ë˜ì„œ... ì¢‹ì€ ê±°ì•¼? ë‚˜ìœ ê±°ì•¼?"

**ì ìˆ˜ ìˆìœ¼ë©´:**
```
ì¢…í•©: 62/100 (ë“±ê¸‰: D)

ì´ ì½”ë“œëŠ” ê°œì„ ì´ í•„ìš”í•©ë‹ˆë‹¤.
íŠ¹íˆ ë³´ì•ˆ ì ìˆ˜ê°€ 40ì ìœ¼ë¡œ ë‚®ìŠµë‹ˆë‹¤.
```
"ì•„, Dë“±ê¸‰ì´êµ¬ë‚˜. ë³´ì•ˆì´ ë¬¸ì œë„¤!"

---

## ì ìˆ˜ ê³„ì‚° ë°©ì‹

ì ìˆ˜ëŠ” ì—¬ëŸ¬ ì¹´í…Œê³ ë¦¬ë¡œ ë‚˜ëˆ ì„œ ê³„ì‚°í•´ìš”:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ê°€ë…ì„± (Readability)     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80 â”‚
â”‚  ìœ ì§€ë³´ìˆ˜ì„± (Maintainability) â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 70 â”‚
â”‚  ë³´ì•ˆ (Security)          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ 90 â”‚
â”‚  ì„±ëŠ¥ (Performance)       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  ì¢…í•© ì ìˆ˜                â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80 â”‚
â”‚  ë“±ê¸‰: B                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ë‹¨ìˆœíˆ í•˜ë‚˜ì˜ ì ìˆ˜ê°€ ì•„ë‹ˆë¼, **ì–´ë””ê°€ ì•½í•œì§€** í•œëˆˆì— ë³´ì—¬ìš”.

---

## ì ìˆ˜ ê³„ì‚° ë¡œì§

### ê¸°ë³¸ ì›ë¦¬: 100ì ì—ì„œ ê°ì 

```java
int score = 100;  // ì‹œì‘

// ë¬¸ì œ ë°œê²¬í•  ë•Œë§ˆë‹¤ ê°ì 
if (ë³µì¡ë„ > 10) score -= 20;
if (CRITICAL_ì´ìŠˆ) score -= 25;
if (ê¸´_ë©”ì„œë“œ) score -= 5;

// ìµœì†Œ 0ì 
return Math.max(0, score);
```

### ì¹´í…Œê³ ë¦¬ë³„ ê°ì  ê·œì¹™

**ê°€ë…ì„± ì ìˆ˜:**
- ë³µì¡ë„ > 10: -20ì 
- ë³µì¡ë„ > 5: -10ì 
- ê¸´ ë©”ì„œë“œ: -5ì 
- ê¹Šì€ ì¤‘ì²©: -10ì 
- ë§¤ì§ ë„˜ë²„: -2ì 

**ë³´ì•ˆ ì ìˆ˜:**
- CRITICAL ì´ìŠˆ: -25ì 
- ERROR ì´ìŠˆ: -15ì 
- WARNING: -5ì 

**ì¢…í•© ì ìˆ˜ = ê°€ì¤‘ í‰ê· :**
```java
overallScore =
    readabilityScore * 0.25 +      // 25%
    maintainabilityScore * 0.25 +  // 25%
    securityScore * 0.30 +         // 30% (ë³´ì•ˆì´ ì œì¼ ì¤‘ìš”!)
    performanceScore * 0.20;       // 20%
```

---

## ì½”ë“œë¡œ êµ¬í˜„í•˜ê¸°

```java
public class CodeScorer {

    public ScoreResult calculateScore(ASTMetrics metrics,
                                      List<CodeSmell> smells,
                                      List<Issue> issues) {

        ScoreResult result = new ScoreResult();

        // ì¹´í…Œê³ ë¦¬ë³„ ì ìˆ˜ ê³„ì‚°
        result.readabilityScore = calculateReadabilityScore(metrics, smells);
        result.maintainabilityScore = calculateMaintainabilityScore(metrics, smells);
        result.securityScore = calculateSecurityScore(issues);
        result.performanceScore = calculatePerformanceScore(smells, issues);

        // ì¢…í•© ì ìˆ˜ (ê°€ì¤‘ í‰ê· )
        result.overallScore = (int) (
            result.readabilityScore * 0.25 +
            result.maintainabilityScore * 0.25 +
            result.securityScore * 0.30 +
            result.performanceScore * 0.20
        );

        // ë“±ê¸‰ ê²°ì •
        result.grade = determineGrade(result.overallScore);

        return result;
    }

    private int calculateSecurityScore(List<Issue> issues) {
        int score = 100;

        for (Issue issue : issues) {
            switch (issue.getSeverity()) {
                case CRITICAL -> score -= 25;  // ì‹¬ê°í•œ ë³´ì•ˆ ì´ìŠˆ
                case ERROR -> score -= 15;
                case WARNING -> score -= 5;
                case INFO -> score -= 1;
            }
        }

        return Math.max(0, score);
    }

    private String determineGrade(int score) {
        if (score >= 90) return "A";
        if (score >= 80) return "B";
        if (score >= 70) return "C";
        if (score >= 60) return "D";
        return "F";
    }
}
```

---

## ë“±ê¸‰ ê¸°ì¤€

| ë“±ê¸‰ | ì ìˆ˜ ë²”ìœ„ | ì˜ë¯¸ |
|------|----------|------|
| **A** | 90-100 | ìš°ìˆ˜! í”„ë¡œë•ì…˜ ë°°í¬ OK |
| **B** | 80-89 | ì–‘í˜¸. ì•½ê°„ì˜ ê°œì„  í•„ìš” |
| **C** | 70-79 | ë³´í†µ. ë¦¬íŒ©í† ë§ ê¶Œì¥ |
| **D** | 60-69 | ë¯¸í¡. ê°œì„  í•„ìš” |
| **F** | 0-59 | ë¶ˆëŸ‰. ì‹¬ê°í•œ ë¬¸ì œ ìˆìŒ! |

---

## ì‹¤ì œë¡œ ì ìˆ˜ ë§¤ê²¨ë³´ê¸°

ì´ ì½”ë“œë¥¼ ë¶„ì„í•´ë³¼ê²Œìš”:

```java
public class OrderService {
    private String secretKey = "abc123";  // ğŸš¨ ë³´ì•ˆ ì´ìŠˆ

    public Order findOrder(Long id) {
        if (id != null) {
            if (repository != null) {
                if (repository.isConnected()) {
                    // ê¹Šì€ ì¤‘ì²©
                    return repository.findById(id);
                }
            }
        }
        return null;
    }

    public void processOrders(String a, String b, String c,
                             String d, String e) {  // ë§¤ê°œë³€ìˆ˜ ê³¼ë‹¤
        // ...
    }
}
```

ì ìˆ˜ ê²°ê³¼:

```
=== ì½”ë“œ í’ˆì§ˆ ì ìˆ˜ ===

ì¢…í•©: 62/100 (ë“±ê¸‰: D)

ì¹´í…Œê³ ë¦¬ë³„ ì ìˆ˜:
  ê°€ë…ì„±    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 70
  ìœ ì§€ë³´ìˆ˜ì„± â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80
  ë³´ì•ˆ      â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 40   â† ì—¬ê¸°ê°€ ë¬¸ì œ!
  ì„±ëŠ¥      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ 90

=== ë°œê²¬ëœ ë¬¸ì œ ===
ì½”ë“œ ìŠ¤ë©œ: 2ê°œ
  - DEEP_NESTING
  - TOO_MANY_PARAMS

ë³´ì•ˆ/ë²„ê·¸ ì´ìŠˆ: 1ê°œ
  - HARDCODED_SECRET (CRITICAL)
```

ë³´ì•ˆ ì ìˆ˜ê°€ 40ì ì´ë¼ ì „ì²´ ë“±ê¸‰ì´ Dë¡œ ë–¨ì–´ì¡Œì–´ìš”. í•˜ë“œì½”ë”©ëœ ë¹„ë°€í‚¤ í•˜ë‚˜ ë•Œë¬¸ì—!

---

## í”„ë¡œì íŠ¸ ìœ í˜•ë³„ ê°€ì¤‘ì¹˜ ì¡°ì •

ëª¨ë“  í”„ë¡œì íŠ¸ê°€ ê°™ì€ ê¸°ì¤€ì¼ í•„ìš”ëŠ” ì—†ì–´ìš”:

| ìœ í˜• | ë³´ì•ˆ | ì„±ëŠ¥ | ê°€ë…ì„± | ìœ ì§€ë³´ìˆ˜ì„± |
|------|------|------|--------|-----------|
| **ê¸ˆìœµ** | 40% | 20% | 20% | 20% |
| **ê²Œì„** | 10% | 40% | 25% | 25% |
| **ë¼ì´ë¸ŒëŸ¬ë¦¬** | 20% | 20% | 30% | 30% |

ê¸ˆìœµ ì‹œìŠ¤í…œì€ ë³´ì•ˆì´ ì œì¼ ì¤‘ìš”í•˜ê³ , ê²Œì„ì€ ì„±ëŠ¥ì´ ì¤‘ìš”í•˜ì£ .

---

## ê°œì„  ì œì•ˆ ìƒì„±í•˜ê¸°

ì ìˆ˜ë§Œ ì£¼ë©´ ì„­ì„­í•´ìš”. **ì–´ë–»ê²Œ ê³ ì¹˜ë©´ ì¢‹ì€ì§€**ë„ ì•Œë ¤ì¤˜ì•¼ì£ :

```java
public List<String> getSuggestions(ScoreResult result) {
    List<String> suggestions = new ArrayList<>();

    if (result.securityScore < 70) {
        suggestions.add("ğŸš¨ ë³´ì•ˆ ì ìˆ˜ê°€ ë‚®ìŠµë‹ˆë‹¤. CRITICAL ì´ìŠˆë¥¼ ìš°ì„  í•´ê²°í•˜ì„¸ìš”.");
    }
    if (result.readabilityScore < 70) {
        suggestions.add("ğŸ“– ê°€ë…ì„± ê°œì„ ì´ í•„ìš”í•©ë‹ˆë‹¤. ë³µì¡í•œ ë©”ì„œë“œë¥¼ ë¶„ë¦¬í•˜ì„¸ìš”.");
    }
    if (result.maintainabilityScore < 70) {
        suggestions.add("ğŸ”§ ìœ ì§€ë³´ìˆ˜ì„± ê°œì„ ì´ í•„ìš”í•©ë‹ˆë‹¤. í´ë˜ìŠ¤ ë¶„ë¦¬ë¥¼ ê³ ë ¤í•˜ì„¸ìš”.");
    }

    return suggestions;
}
```

---

## Part 2 íŒŒì´í”„ë¼ì¸ ì™„ì„±!

ë“œë””ì–´ Part 2ì˜ ì „ì²´ íë¦„ì´ ì™„ì„±ëì–´ìš”:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Part 2: ì½”ë“œ ì´í•´ í”„ë¡œì„¸ìŠ¤                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  STEP-07      STEP-08      STEP-09      STEP-10                 â”‚
â”‚  íŒŒì‹±    â†’   AST ë¶„ì„  â†’  ì˜ë¯¸ ë¶„ì„  â†’  íŒ¨í„´ ë§¤ì¹­               â”‚
â”‚  (ë¬¸ìì—´â†’íŠ¸ë¦¬) (êµ¬ì¡° íŒŒì•…)  (ë³€ìˆ˜ ì¶”ì )  (ìŠ¤ë©œ ê°ì§€)              â”‚
â”‚                                                                  â”‚
â”‚      â†“                                                           â”‚
â”‚                                                                  â”‚
â”‚  STEP-11      STEP-12                                           â”‚
â”‚  ì´ìŠˆ íƒì§€  â†’  ì ìˆ˜í™”                                            â”‚
â”‚  (ë³´ì•ˆ/ë²„ê·¸)  (í’ˆì§ˆ ì¸¡ì •)                                         â”‚
â”‚                                                                  â”‚
â”‚      â†“                                                           â”‚
â”‚                                                                  â”‚
â”‚  ì¶œë ¥: 62/100 (Dë“±ê¸‰)                                            â”‚
â”‚  â”œâ”€ ì´ìŠˆ ëª©ë¡                                                    â”‚
â”‚  â”œâ”€ ê°œì„  ì œì•ˆ                                                    â”‚
â”‚  â””â”€ ì¹´í…Œê³ ë¦¬ë³„ ì ìˆ˜                                              â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## í•µì‹¬ ì •ë¦¬

1. **ì ìˆ˜í™”** â†’ ì—¬ëŸ¬ ë¶„ì„ ê²°ê³¼ë¥¼ í•˜ë‚˜ì˜ ìˆ«ìë¡œ ì¢…í•©
2. **ì¹´í…Œê³ ë¦¬ë³„ ì ìˆ˜** â†’ ì–´ë””ê°€ ì•½í•œì§€ í•œëˆˆì— íŒŒì•…
3. **ë“±ê¸‰** â†’ A~Fë¡œ ì§ê´€ì ì¸ í‰ê°€
4. **ê°€ì¤‘ì¹˜** â†’ í”„ë¡œì íŠ¸ íŠ¹ì„±ì— ë§ê²Œ ì¡°ì • ê°€ëŠ¥

---

## ë‹¤ìŒ ì‹œê°„ ì˜ˆê³ 

Part 2ì—ì„œ ìš°ë¦¬ëŠ” ì½”ë“œë¥¼ "ì´í•´"í•˜ëŠ” ë²•ì„ ë°°ì› ì–´ìš”. íŒŒì‹±í•˜ê³ , ë¶„ì„í•˜ê³ , ì ìˆ˜ê¹Œì§€ ë§¤ê²¼ì£ .

ê·¼ë° ì´ê±¸ **AIì—ê²Œ ë¬¼ì–´ë³´ë©´ ì–´ë–¨ê¹Œìš”?**

"ì´ ì½”ë“œ ì–´ë–¤ ê²ƒ ê°™ì•„?" "ë³´ì•ˆ ë¬¸ì œ ìˆì–´?" "ì–´ë–»ê²Œ ê³ ì¹˜ë©´ ì¢‹ì„ê¹Œ?"

Part 3ì—ì„œëŠ” ìš°ë¦¬ê°€ ë¶„ì„í•œ ê²°ê³¼ë¥¼ **LLMì—ê²Œ ì „ë‹¬**í•˜ê³ , ë” ë˜‘ë˜‘í•œ ë¦¬ë·°ë¥¼ ë°›ëŠ” ë°©ë²•ì„ ë°°ì›Œë³¼ê²Œìš”!

---

## ì‹¤ìŠµ

```bash
cd code-ai-part2-analyzer
../gradlew :step12-scoring:run
```

ì—¬ëŸ¬ë¶„ì˜ ì½”ë“œì— ì ìˆ˜ë¥¼ ë§¤ê²¨ë³´ì„¸ìš”. ëª‡ ì , ëª‡ ë“±ê¸‰ì´ ë‚˜ì˜¤ë‚˜ìš”?
